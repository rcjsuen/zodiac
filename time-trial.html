<html>
  <head>
    <meta charset="utf-8" />
    <title>Zodiac - Time Trial</title>
    <style>
      canvas { display: block; margin: 0 auto; }
    </style>
  </head>
  <body>

<p align="right"><input type="number" id="time"/><button id="startBtn" type="button" onClick="startCountdown()">スタート</button></p>
<p align="right" id="timer"></p>

<center>
<p id="countdown"></p>
<input type="file" id="files" multiple/>

<p/>
<font face="Calibri">
<div id="content">
<p id="remaining"></p>
</font>

<p id="japanese"></p>
</div>

<input id="input"/>
<button id="nextBtn" type="button" onClick="onClick()" disabled>次へ</button>
<p/>
<p align="right"><input type="checkbox" state="true" id="keyboardChk" checked="true" onClick="showKeyboard()"/>バーチャルキーボード</p>

<canvas id="canvas" width=710" height="290"></canvas>

<p id="mistake"></p>
<p/>

</center>

<script src="keyboard.js"></script>
<script src="zodiac.js"></script>
<script>
document.getElementById("content").style.display = "none";
var countdownTime = 5;
var remainingTime = -1;

function startCountdown() {
	document.getElementById("countdown").innerHTML = countdownTime;
	setTimeout(countdown, 1000);
}

function countdown() {
	countdownTime--;
	document.getElementById("countdown").innerHTML = countdownTime;
	if (countdownTime === 0) {
		document.getElementById("content").style.display = "inline";
		document.getElementById("countdown").style.display = "none";
		document.getElementById("input").focus();
		
		startTimeTrial();
	} else {
		setTimeout(countdown, 1000);
	}
}

function startTimeTrial() {
	remainingTime = parseInt(document.getElementById("time").value, 10);
	
	document.getElementById("timer").innerHTML = remainingTime + "秒";
	setTimeout(timer, 1000);
}

function timer() {
	remainingTime--;
	document.getElementById("timer").innerHTML = remainingTime + "秒";
	if (remainingTime === 0) {
		alert("もう時間だ！");
	} else {
		setTimeout(timer, 1000);
	}
}
</script>

</body>
</html>